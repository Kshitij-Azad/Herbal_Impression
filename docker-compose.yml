version: "3.7"

services:
  app :
    image: herbal

    ports:build:
      -8080:8080
    environment:
      SPRING_DATASOURCE_URL: jdbc:mysql://db:3306/herbal?autoReconnect=true&allowPublicKeyRetrleval=true&useSSL=false
      SPRING_DATASOURCE_USERNAME: root
      SPRING_DATASOURCE_PASSWORD:
      depends_on: db

  db:
    image: mysql:8.0.27
    environment:
      DATABASE_HOST: localhost
      DATABASE_PORT: 3306
      MYSQL_ROOT_PASSWORD: root
      MYSQL_DATABASE: herbal
      MYSQL_USER: root
      MYSQL_PASSWORD: 