<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Responsive Navbar</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <style>
    </style>
</head>

<body>

<div th:insert="~{admin/adminheader}"></div>

<div class="card mr-5 ml-5 mt-5">
		<div class="card-body">
			<h1 class="text-center">All Admin List</h1>
			<table class="table">
  <thead class="thead-dark">
    <tr>
      <th scope="col">#P.ID</th>
      <th scope="col">P.Name</th>
      <th scope="col">Category</th>
      <th scope="col">Description</th>
      <th scope="col">Price</th>
      <th scope="col">Action</th>
    </tr>
  </thead>
  <tbody>
    <tr th:each="c : ${productList}">
      <th scope="row" th:text="'PRODUCTHP'+${c.pid}+A">1</th>
      <td th:text="${c.pname}">Mark</td>
      <td th:text="${c.category}">Otto</td>
      <td th:text="${c.description}" style="width: 30%;">@mdo</td>
      <td th:text="${c.price}">@mdo</td>
      
      <td>
      		<a href="#" th:onclick="|deleteProduct(${c.pid})|" class="btn btn-danger btm-sm" style="padding: 0.75rem 2.2rem;">Delete</a>
      		<form th:action="@{'/admin/updateProduct/' +${c.pid}}" method="post">
      		
      		<button type="submit"  class="btn btn btn-warning btm-sm" style="padding: 0.25rem 2rem;">Update</button>
      		</form>
      </td>
    </tr>
    
  </tbody>
</table>
		</div>
	
</div>
<div th:replace="~{user/_ufragments::footer}"></div>
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.5.3/dist/umd/popper.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
    <script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script>
     <script>
    function deleteProduct(pid)
    {
    	swal({
    		  title: "Are you sure?",
    		  text: "you want to delete this Product!",
    		  icon: "warning",
    		  buttons: true,
    		  dangerMode: true,
    		})
    		.then((willDelete) => {
    		  if (willDelete) {
    			  window.location="/admin/delete1/"+pid;
    		    }
    		  else {
    		    swal("Product is not delete");
    		  }
    		});
    }
 
    </script>
</body>

</html>